import { Canvas, Meta, Story } from "@storybook/addon-docs";
import { ProcessSteps } from "../index";
import pkg from "../../package.json";

export const exampleArgs = {
  expandedSteps: ["deelname"],
  steps: [
    {
      id: "deelname",
      marker: 1,
      title: "Deelname aan geluidsonderzoek",
      status: "checked",
      steps: [{ title: "Aanmelding ontvangen", status: "checked" }],
    },
    {
      id: "onderzoek",
      marker: 2,
      title: "Onderzoek naar geluidsoverlast",
      status: "current",
      steps: [
        { title: "Afspraak meten geluidsoverlast gemaakt", status: "checked" },
        { title: "Geluidsoverlast gemeten" },
        { title: "Onderzoek resultaten verwerkt" },
      ],
    },
    { id: "uitvoeren", marker: 3, title: "Uitvoeren van maatregelen" },
    { id: "klaar", marker: 4, title: "Maatregelen zijn uitgevoerd" },
  ],
};

export const Template = (args) => {
  return <ProcessSteps {...args}></ProcessSteps>;
};

<Meta
  title="React/Process Steps/Status"
  component={ProcessSteps}
  parameters={{
    componentSubtitle: `${pkg.name} - ${pkg.version}`,
    docs: { source: { type: "dynamic" } },
    status: {
      type: "ALPHA",
    },
  }}
/>

## Stories

### Default

<Canvas>
  <Story name="Default" args={exampleArgs}>
    {Template.bind({})}
  </Story>
</Canvas>

### Not collapsible

<Canvas>
  <Story name="Not collapsible" args={{ ...exampleArgs, collapsible: false }}>
    {Template.bind({})}
  </Story>
</Canvas>

### Without Substeps

<Canvas>
  <Story
    name="No Substeps"
    args={{
      steps: [
        {
          id: "getuigen-wijzigen",
          marker: 1,
          title: "Getuigen wijzigen of meer getuigen uitnodigen",
          status: "checked",
        },
        {
          id: "getuigen-definitief",
          marker: 2,
          title: "Getuigen zijn definitief en bevestigingen van getuigen ontvangen",
          status: "current",
        },
        { id: "extras", marker: 3, title: "Eventuele extras bestellen" },
        { id: "trouwen", marker: 4, title: "Trouwen" },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### With metadata and dates

<Canvas>
  <Story
    name="With metadata"
    args={{
      steps: [
        {
          id: "getuigen-wijzigen",
          marker: 1,
          title: "Getuigen wijzigen of meer getuigen uitnodigen",
          status: "checked",
          meta: (
            <a className="utrecht-link" href="https://example.com">
              Getuigen wijzigen of meer getuigen uitnodigen
            </a>
          ),
          date: "Tussen vandaag en 24 februari 2023",
        },
        {
          id: "getuigen-definitief",
          marker: 2,
          title: "Getuigen zijn definitief en bevestigingen van getuigen ontvangen",
          status: "current",
          steps: [{ title: "Getuigen aangemeld", status: "checked" }],
          meta: "Getuigen zijn definitief en bevestigingen van getuigen ontvangen",
          date: "Regel het vóór 24 februari 2023",
        },
        {
          id: "extras",
          marker: 3,
          title: "Eventuele extras bestellen",
          meta: (
            <a className="utrecht-link" href="https://example.com">
              Eventuele extras bestellen
            </a>
          ),
          date: "Mogelijk tot 1 maart 2023",
        },
        {
          id: "trouwen",
          marker: 4,
          title: "Trouwen",
          meta: (
            <p className="utrecht-paragraph">
              Jullie gaan trouwen in het{" "}
              <a className="utrecht-link" href="https://example.com">
                Stadhuis Spui
              </a>
            </p>
          ),
          date: "Op 1 april 2023",
        },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### With warning

<Canvas>
  <Story
    name="With warning"
    args={{
      expandedSteps: ["onderzoek"],
      steps: [
        {
          id: "deelname",
          marker: 1,
          title: "Deelname aan geluidsonderzoek",
          status: "checked",
          steps: [{ title: "Aanmelding ontvangen", status: "checked" }],
        },
        {
          id: "onderzoek",
          marker: 2,
          title: "Onderzoek naar geluidsoverlast",
          status: "warning",
          steps: [
            { title: "Afspraak meten geluidsoverlast gemaakt", status: "warning" },
            { title: "Geluidsoverlast gemeten", status: "warning" },
            { title: "Onderzoek resultaten verwerkt" },
          ],
        },
        { id: "uitvoeren", marker: 3, title: "Uitvoeren van maatregelen" },
        { id: "klaar", marker: 4, title: "Maatregelen zijn uitgevoerd" },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### With error

<Canvas>
  <Story
    name="With error"
    args={{
      expandedSteps: ["onderzoek"],
      steps: [
        {
          id: "deelname",
          marker: 1,
          title: "Deelname aan geluidsonderzoek",
          status: "checked",
          steps: [{ title: "Aanmelding ontvangen", status: "checked" }],
        },
        {
          id: "onderzoek",
          marker: 2,
          title: "Onderzoek naar geluidsoverlast",
          status: "error",
          meta: "Er is geen afspraak gemaakt. De aanvraag is stopgezet. Wilt u toch graag in aanmerking komen voor subsidie? Neem dan contact op met de gemeente via 14070.",
          steps: [{ title: "Afspraak meten geluidsoverlast gemaakt", status: "error" }],
        },
        { id: "uitvoeren", marker: 3, title: "Uitvoeren van maatregelen" },
        { id: "klaar", marker: 4, title: "Maatregelen zijn uitgevoerd" },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
